{
  "metadata": {
    "name": "Bugzilla Task Graph",
    "description": "A suite of tests to check the quality of the Bugzilla codebase.",
    "owner": "dlawrence@mozilla.com",
    "source": "https://raw.githubusercontent.com/dklawren/bugzilla/taskcluster/taskgraph.json"
  },
  "tasks": [
    {
      "reruns": 3,
      "maxRunTime": 3000,
      "task": {
        "metadata": {
          "name": "Basic Sanity Tests"
        },
        "provisionerId": "aws-provisioner",
        "workerType": "gaia",
        "payload": {
          "image": "dklawren/docker-bugzilla",
          "command": ["/runtests.sh"],
          "env": {
            "TEST_SUITE": "sanity"
          }
        },
        "extra": {
          "treeherder": {
            "machine": {
              "platform": "taskcluster"
            },
            "symbol": "San"
          }
        },
        "artifacts": {
          "pubic/runtests.log": {
            "type": "file",
            "path": "/runtests.log",
            "expires": "2016-02-17T17:33:38.806Z"
          }
        }
      }
    },
    {
      "reruns": 3,
      "maxRunTime": 3000,
      "task": {
        "metadata": {
          "name": "Documentation Build Test"
        },
        "provisionerId": "aws-provisioner",
        "workerType": "gaia",
        "payload": {
          "image": "dklawren/docker-bugzilla",
          "command": ["/runtests.sh"],
          "env": {
            "TEST_SUITE": "docs"
          }
        },
        "extra": {
          "treeherder": {
            "machine": {
              "platform": "taskcluster"
            },
            "symbol": "Doc"
          }
        },
        "artifacts": {
            "pubic/runtests.log": {
                "type": "file",
                "path": "/runtests.log",
                "expires": "2016-02-17T17:33:38.806Z"
            }
        }
      }
    },
    {
      "reruns": 3,
      "maxRunTime": 3000,
      "task": {
        "metadata": {
          "name": "WebService API Tests"
        },
        "provisionerId": "aws-provisioner",
        "workerType": "gaia",
        "payload": {
          "image": "dklawren/docker-bugzilla",
          "command": ["/runtests.sh"],
          "env": {
            "TEST_SUITE": "webservices"
          }
        },
        "extra": {
          "treeherder": {
            "machine": {
              "platform": "taskcluster"
            },
            "symbol": "API"
          }
        },
        "artifacts": {
          "pubic/runtests.log": {
            "type": "file",
            "path": "/runtests.log",
            "expires": "2016-02-17T17:33:38.806Z"
          }
        }
      }
    },
    {
      "reruns": 3,
      "maxRunTime": 7200,
      "task": {
        "metadata": {
          "name": "Selenium Tests"
        },
        "provisionerId": "aws-provisioner",
        "workerType": "gaia",
        "payload": {
          "image": "dklawren/docker-bugzilla",
          "command": ["/runtests.sh"],
          "env": {
            "TEST_SUITE": "selenium"
          }
        },
        "extra": {
          "treeherder": {
            "machine": {
              "platform": "taskcluster"
            },
            "symbol": "Sel"
          }
        },
        "artifacts": {
          "pubic/runtests.log": {
            "type": "file",
            "path": "/runtests.log",
            "expires": "2016-02-17T17:33:38.806Z"
          }
        }
      }
    }
  ]
}
